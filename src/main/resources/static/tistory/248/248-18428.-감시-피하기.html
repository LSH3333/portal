
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>18428. 감시 피하기</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">18428. 감시 피하기</h2>
                                <div class="box-info">
                                    <p class="category">PS</p>
                                    <p class="date">2021-08-03 18:26:01</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p data-ke-size="size16"><a href="https://www.acmicpc.net/problem/18428" target="_blank" rel="noopener">https://www.acmicpc.net/problem/18428</a></p>
<figure id="og_1627982620548" contenteditable="false" data-ke-type="opengraph" data-ke-align="alignCenter" data-og-type="website" data-og-title="18428번: 감시 피하기" data-og-description="NxN&nbsp;크기의 복도가 있다. 복도는 1x1&nbsp;크기의 칸으로 나누어지며, 특정한 위치에는 선생님, 학생, 혹은 장애물이 위치할 수 있다. 현재 몇 명의 학생들은 수업시간에 몰래 복도로 빠져나왔는데, 복" data-og-host="www.acmicpc.net" data-og-source-url="https://www.acmicpc.net/problem/18428" data-og-url="https://www.acmicpc.net/problem/18428" data-og-image="https://scrap.kakaocdn.net/dn/chWMoa/hyK6tWWoHT/wFHtVLFbS0UW6xkRBg2Fj1/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630,https://scrap.kakaocdn.net/dn/cdADBx/hyK6lECqMz/VRK49IErrzRjpCbikz43b1/img.jpg?width=703&amp;height=621&amp;face=0_0_703_621,https://scrap.kakaocdn.net/dn/ckcEH5/hyK7tHMtsn/v9jvUeRoVwkjqyrgoYdAd0/img.jpg?width=701&amp;height=618&amp;face=0_0_701_618"><a href="https://www.acmicpc.net/problem/18428" target="_blank" rel="noopener" data-source-url="https://www.acmicpc.net/problem/18428">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/chWMoa/hyK6tWWoHT/wFHtVLFbS0UW6xkRBg2Fj1/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630,https://scrap.kakaocdn.net/dn/cdADBx/hyK6lECqMz/VRK49IErrzRjpCbikz43b1/img.jpg?width=703&amp;height=621&amp;face=0_0_703_621,https://scrap.kakaocdn.net/dn/ckcEH5/hyK7tHMtsn/v9jvUeRoVwkjqyrgoYdAd0/img.jpg?width=701&amp;height=618&amp;face=0_0_701_618');">&nbsp;</div>
<div class="og-text">
<p class="og-title" data-ke-size="size16">18428번: 감시 피하기</p>
<p class="og-desc" data-ke-size="size16">NxN&nbsp;크기의 복도가 있다. 복도는 1x1&nbsp;크기의 칸으로 나누어지며, 특정한 위치에는 선생님, 학생, 혹은 장애물이 위치할 수 있다. 현재 몇 명의 학생들은 수업시간에 몰래 복도로 빠져나왔는데, 복</p>
<p class="og-host" data-ke-size="size16">www.acmicpc.net</p>
</div>
</a></figure>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">1. 재귀를 이용한 dfs로 선생님과, 학생이 없는 곳에 장애물을 놓을수 있는 모든 경우를 구한다</p>
<p data-ke-size="size16">2. 모든 경우에 대하여 선생님의 4방향 시선 경로에 학생이 있는지 판단한다</p>
<p data-ke-size="size16">3. 한 번이라도 숨을수 있는 경우가 있으면 YES</p>
<p data-ke-size="size16">&nbsp;</p>
<pre id="code_1627982742667" class="c++ arduino" data-ke-language="c++" data-ke-type="codeblock"><code>#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#define endl '\n'
using namespace std;

int n;
char map[7][7];
vector&lt;pair&lt;int,int&gt;&gt; tl; // teacher's location
int dr[4] = {-1, 0, 1, 0};
int dc[4] = {0, 1, 0, -1};
bool ans = false;

// 숨을수 있으면 true
bool CanHide()
{
    for(int t = 0; t &lt; tl.size(); t++)
    {
        int tr = tl[t].first;
        int tc = tl[t].second;

        // 4방향 탐색
        for(int i = 0; i &lt; 4; i++)
        {
            int _tr = tr + dr[i];
            int _tc = tc + dc[i];

            while(_tr &gt;= 0 &amp;&amp; _tr &lt; n &amp;&amp; _tc &gt;= 0 &amp;&amp; _tc &lt; n)
            {
                // 시선경로에 벽이 있으면 더이상 탐색 불가능
                if(map[_tr][_tc] == 'O') break;
                // 학생을 찾음
                if(map[_tr][_tc] == 'S')
                {
                    return false;
                }

                _tr += dr[i];
                _tc += dc[i];
            }
        }
    }
    return true;
}

void MakeWalls(int depth)
{
    if(ans) return;

    if(depth == 3)
    {
        if(CanHide())
        {
            ans = true;
        }

        return;
    }

    for(int i = 0; i &lt; n; i++)
    {
        for(int j = 0; j &lt; n; j++)
        {
            if(map[i][j] == 'T' || map[i][j] == 'S' || map[i][j] == 'O') continue;

            map[i][j] = 'O';
            MakeWalls(depth+1);
            map[i][j] = 'X';
        }
    }

}

int main()
{
    cin &gt;&gt; n;
    for(int i = 0; i &lt; n; i++)
    {
        for(int j = 0; j &lt; n; j++)
        {
            cin &gt;&gt; map[i][j];

            if(map[i][j] == 'T')
                tl.push_back({i,j});
        }
    }

    MakeWalls(0);

    if(ans)
        cout &lt;&lt; "YES";
    else
        cout &lt;&lt; "NO";
}</code></pre>
                        </div>
                        <br/>
                        <div class="tags">
                            #C++ #Brute Force #dfs #recursion 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
