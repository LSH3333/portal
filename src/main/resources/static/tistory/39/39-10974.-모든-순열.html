
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>10974. 모든 순열</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">10974. 모든 순열</h2>
                                <div class="box-info">
                                    <p class="category">PS</p>
                                    <p class="date">2020-09-18 00:35:42</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><a href="https://www.acmicpc.net/problem/10974" target="_blank" rel="noopener">www.acmicpc.net/problem/10974</a></p>
<figure id="og_1600356776337" contenteditable="false" data-ke-type="opengraph" data-og-type="website" data-og-title="10974번: 모든 순열" data-og-description="N이 주어졌을 때, 1부터 N까지의 수로 이루어진 순열을 사전순으로 출력하는 프로그램을 작성하시오." data-og-host="www.acmicpc.net" data-og-source-url="https://www.acmicpc.net/problem/10974" data-og-url="https://www.acmicpc.net/problem/10974" data-og-image="https://scrap.kakaocdn.net/dn/b3npOm/hyHxMLFWlC/1L0cFaPa831kanUKh0mlQK/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630"><a href="https://www.acmicpc.net/problem/10974" target="_blank" rel="noopener" data-source-url="https://www.acmicpc.net/problem/10974">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/b3npOm/hyHxMLFWlC/1L0cFaPa831kanUKh0mlQK/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630');">&nbsp;</div>
<div class="og-text">
<p class="og-title">10974번: 모든 순열</p>
<p class="og-desc">N이 주어졌을 때, 1부터 N까지의 수로 이루어진 순열을 사전순으로 출력하는 프로그램을 작성하시오.</p>
<p class="og-host">www.acmicpc.net</p>
</div>
</a></figure>
<p>&nbsp;</p>
<p>next_permutation을 쓰면 쉽게 풀리지만 안쓰고 풀어보려고 했다.</p>
<p>10972. 다음순열 문제랑 거의 똑같다.&nbsp;</p>
<p>그런데 이 문제를 풀면서 비트마스킹 방식으로 아예 안보고 다시 코드를 짜보다가 내가 지금까지</p>
<p>잘못 이해했던걸 깨닫고 처음부터 다시 해서 오래 걸린 문제.</p>
<p>어찌됐든 잘 이해하고 다시 풀었다.</p>
<p>&nbsp;</p>
<pre id="code_1600356859702" class="c++ arduino" data-ke-language="c++" data-ke-type="codeblock"><code>#include &lt;iostream&gt;
using namespace std;
#include &lt;bitset&gt;

bitset&lt;20&gt; b(0); /// bit masking
int a[20]; /// 순열

int main() {
    int n;
    cin &gt;&gt; n;

    for (int i = 1; i &lt;= n; i++) {// 초기값 입력
        a[i] = i;
    }
    for (int i = 1; i &lt;= n; i++) { // 초기값 출력
        cout &lt;&lt; a[i] &lt;&lt; " ";
    } cout &lt;&lt; '\n';

    while (1) {
        int trigger = 1;
        int idx = n;
        b.set(); // bit 모두 set.

        while (trigger) {
            b.reset(a[idx]); // 마스킹 제거

            while (1) {
                ++a[idx]; // 값 증가시켜서


                if (a[idx] &gt; n) { // 증가시킨값이 n보다 크면
                    idx--; // 다음 비트로
                    break;
                }
                else if (b.test(a[idx]) == 0) {
                    trigger = 0;
                    break;
                }
            }
        } //// 여기까지가 값 변경 시작할 idx 구하기.


        if (idx &lt; 1) break; // idx가 1보다 작으면 순열의 마지막값임.
        else {
            // a[idx]는 이전 while루프에서 ++a[idx]하면서 이미 자기 값 찾음.
            b.set(a[idx]);

            // 1부터 증가시키면서 비트마스크 값 '0'인 숫자 선택, 마스킹.
            for (int i = idx + 1; i &lt;= n; i++) {
                for (int j = 1; j &lt;= n; j++) {
                    if (b.test(j) == 0) {
                        a[i] = j;
                        b.set(j); // 1로 set
                        break;
                    }
                }
            }

            for (int i = 1; i &lt;= n; i++) { // 출력
                cout &lt;&lt; a[i] &lt;&lt; " ";
            } cout &lt;&lt; '\n';
        }
    }
}</code></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>그런데 처음에 개행할때 endl를 써서 풀었는데 16퍼쯤에서 시간초과가 났다.</p>
<p>endl이 buffer를 비우기까지 해서 시간이 더 오래걸린다는걸 어렴풋이 듣긴했는데 이정도로 오래걸리는줄은 몰랐다.</p>
<p>'\n'를 썼더니 금방 체점이 완료됐다.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #Brute Force #CPP 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
