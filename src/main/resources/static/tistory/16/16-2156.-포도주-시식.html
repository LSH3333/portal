
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>2156. 포도주 시식</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">2156. 포도주 시식</h2>
                                <div class="box-info">
                                    <p class="category">PS</p>
                                    <p class="date">2020-08-10 17:14:34</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><a href="https://www.acmicpc.net/problem/2156">https://www.acmicpc.net/problem/2156</a></p>
<figure id="og_1596784483527" contenteditable="false" data-ke-type="opengraph" data-og-type="website" data-og-title="2156번: 포도주 시식" data-og-description="효주는 포도주 시식회에 갔다. 그 곳에 갔더니, 테이블 위에 다양한 포도주가 들어있는 포도주 잔이 일렬로 놓여 있었다. 효주는 포도주 시식을 하려고 하는데, 여기에는 다음과 같은 두 가지 규" data-og-host="www.acmicpc.net" data-og-source-url="https://www.acmicpc.net/problem/2156" data-og-url="https://www.acmicpc.net/problem/2156" data-og-image="https://scrap.kakaocdn.net/dn/pZJzE/hyG2sIeoho/1kINHA01EKfkxVdeTWc80k/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630"><a href="https://www.acmicpc.net/problem/2156" target="_blank" rel="noopener" data-source-url="https://www.acmicpc.net/problem/2156">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/pZJzE/hyG2sIeoho/1kINHA01EKfkxVdeTWc80k/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630');">&nbsp;</div>
<div class="og-text">
<p class="og-title">2156번: 포도주 시식</p>
<p class="og-desc">효주는 포도주 시식회에 갔다. 그 곳에 갔더니, 테이블 위에 다양한 포도주가 들어있는 포도주 잔이 일렬로 놓여 있었다. 효주는 포도주 시식을 하려고 하는데, 여기에는 다음과 같은 두 가지 규</p>
<p class="og-host">www.acmicpc.net</p>
</div>
</a></figure>
<p>&nbsp;</p>
<p>최대로 마실 수 있는 포도주의 양을 구해야 한다.</p>
<p>각 포도주잔에 포도주가 얼마나 있는지 나와있고 연속으로 3잔을 마실수는 없다.</p>
<p>&nbsp;</p>
<p><b>Solution</b></p>
<p>&nbsp;</p>
<p><b>1차원 다이나믹</b></p>
<p>&nbsp;</p>
<p>d[n] : n번째 잔 까지 최대로 마실수 있는 포도주의 양</p>
<p>a[n] : n번째 잔에 들어있는 포도주의 양</p>
<p>&nbsp;</p>
<p>두 번째 인덱스를 "n번째 잔에서 연속으로 마신 잔의 수" 라고 하면</p>
<p style="text-align: left;"><b>d[n][0] : n번째 잔을 마시지 않는다</b></p>
<p style="text-align: left;"><b>d[n][1] : n번째 잔을 1번 연속으로 마신다</b></p>
<p style="text-align: left;"><b>d[n][2] : n번째 잔을 2번 연속으로 마신다</b></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>그렇다면 d[n]은 n 번째 잔까지 최대로 마실수 있는 포도주의 양 이므로</p>
<p>위에 세 상황 중에 가장 큰 값이 d[n]이 된다고 할 수 있다.&nbsp;</p>
<p style="text-align: left;"><b>d[n] = max(d[n][0], d[n][1], d[n][2])</b></p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;"><b>d[n][0]</b></p>
<p style="text-align: left;">n번째 잔을 마시지 않는 상황.</p>
<p style="text-align: left;">그러므로 바로 전 단계에서 포도주를 마셨건 안 마셨건 상관이 없다.</p>
<p style="text-align: left;"><b>d[n][0] = max(d[n-1][0], d[n-1][1], d[n-1][2])</b></p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;"><b>d[n][1]</b></p>
<p style="text-align: left;">n번째 잔을 1번 연속으로 마시는 상황.</p>
<p style="text-align: left;">그렇다는 것은 바로 전 단계에서는 안 마셨어야 된다는 것.</p>
<p style="text-align: left;"><b>d[n][1] = d[n-1][0] + a[n]&nbsp;</b></p>
<p style="text-align: left;"><b>&nbsp;</b></p>
<p style="text-align: left;"><b>d[n][2]</b></p>
<p style="text-align: left;">n번째 잔을 2번 연속으로 마시는 상황.</p>
<p style="text-align: left;">그렇다는 것은 바로 전 단계에서 1잔을 마신 상황이어야 한다.&nbsp;</p>
<p style="text-align: left;"><b>d[n][2] = d[n-1][1] + a[n]</b></p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">위 세 가지 값 중 가장 큰 값이 d[n]이 된다.</p>
<p style="text-align: left;">&nbsp;</p>
<pre id="code_1597046406087" class="python" data-ke-language="python" data-ke-type="codeblock"><code>d = [[0] * 3 for i in range(10001)]
a = [0] * 10001

n = int(input())
for i in range(1, n+1): a[i] = int(input())

# 첫 번째 잔
d[1][0] = 0
d[1][1] = a[1]
d[1][2] = a[1]

for i in range(2, n+1):
    # n번째 잔을 마시지 않는 상황
    d[i][0] = max(d[i-1][0], d[i-1][1], d[i-1][2])
    # n번째 잔을 연속으로 1잔 마시는 상황
    d[i][1] = d[i-1][0] + a[i]
    # n번째 잔을 연속으로 2잔 마시는 상황
    d[i][2] = d[i-1][1] + a[i]

print(max(d[n][0], d[n][1], d[n][2]))
</code></pre>
<p>&nbsp;</p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style3" />
<p><b>1차원 다이나믹</b></p>
<p>&nbsp;</p>
<p>d[n] : n번째 잔 까지 최대로 마실수 있는 포도주의 양</p>
<p>n번째에서 안 마신 상황, 1번 연속으로 마신상황, 2번 연속으로 마신 상황은 동일.</p>
<p>&nbsp;</p>
<p><b>n번째에서 안마신 상황</b></p>
<p>n번째에서 안 마신 상황이기 때문에 n-1번째에서 마셨던 안 마셨던 상관이 없다.</p>
<p>그 말은 즉 n번째 값이 n-1번째 값과 동일하다는 것이다.</p>
<p><b>d[n] = d[n-1]</b></p>
<p>&nbsp;</p>
<p><b>n번째에서 1번 연속으로 마신 상황</b></p>
<p>n번째에서 1번 연속으로 마시려면 n-1번째에서 안 마셨어야 가능하다.</p>
<p>그런데 생각해보면 n-1번째에서 안 마셨다는 것은 즉 (위와 동일하게) n-1번째 값이 n-2번째 값과 동일하다는 것이다.</p>
<p><b>d[n] = d[n-2] + a[n]</b></p>
<p>&nbsp;</p>
<p><b>n번째에서 2번 연속으로 마신 상황</b></p>
<p>n번째에서 2번 연속으로 마신 상황이 되려면&nbsp;</p>
<p>n-1번째에서 마셔야 하고, n-2번째에서는 안 마셔야 한다.</p>
<p>위 와동 일하게 n-2번째에서 안 마셨다면 n-3번째 값과 같다.</p>
<p>d[n] = a[n-1] + a[n] + d[n-3]</p>
<p>&nbsp;</p>
<pre id="code_1597047110099" class="python" style="display: block; overflow: auto; padding: 15px; color: #383a42; background: #f6f7f8; font-size: 14px; border-radius: 3px; font-family: Menlo, Consolas, Monaco, monospace; border: 1px solid #dddddd; margin: 20px auto 0px; cursor: default; z-index: 1; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;" data-ke-language="python" data-ke-type="codeblock"><code>d = [0] * 10001
a = [0] * 10001

# inputs
n = int(input())
for i in range(1, n+1): a[i] = int(input())

# base
d[1] = a[1]
d[2] = a[1] + a[2]

for i in range(3, n+1):
    d[i] = max(d[i-1], d[i-2] + a[i], d[i-3] + a[i] + a[i-1])

print(d[n])
</code></pre>
<p>&nbsp;</p>
<hr contenteditable="false" data-ke-type="horizontalRule" data-ke-style="style6" />
<p>이 문제는 결국 혼자 못 풀고 솔루션을 보고야 알았다..</p>
<p>솔루션을 보고 어떻게 풀었는지 이해는 가지만 또 비슷한 문제가 나왔을 때 풀 수 있을까? 라는 느낌.</p>
<p>아직 dp를 푸는 법을 제대로 모르겠다.</p>
<p>문제를 더 많이 풀어봐야 감이 딱 올 것 같다.</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #Python #DP 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
