
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>랭킹시스템 변경</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">랭킹시스템 변경</h2>
                                <div class="box-info">
                                    <p class="category">유니티</p>
                                    <p class="date">2021-07-27 19:30:05</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p data-ke-size="size16">원래 구현한 랭킹시스템은 PlayerPref를 이용해 구현되어서 서로 다른 컴퓨터에서 각각의 서로 다른 랭킹들이 있었다.</p>
<p data-ke-size="size16">이번에 NCMB&nbsp; Database를 이용해서 랭킹시스템을 바꿨고 방금 다 끝났다.</p>
<p data-ke-size="size16">이제 데이터베이스를 이용하기 때문에 서로다른 컴퓨터에서도 동일한 랭킹이 출력된다.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">잊지않기 위해 대략적인 work flow를 기록해둔다.</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16">1.&nbsp;메뉴씬에서&nbsp;로그인<br />&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;로그인&nbsp;하지&nbsp;않으면&nbsp;게임버튼&nbsp;누를수&nbsp;없음<br />&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;로그인후&nbsp;게임버튼&nbsp;누르면&nbsp;SceneControl.cs의&nbsp;ChangeScene()&nbsp;함수에의해&nbsp;singleton인&nbsp;ManageApp.cs에&nbsp;loginNickname&nbsp;저장됨.<br />&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;게임&nbsp;종료후&nbsp;Result.cs&nbsp;에서&nbsp;현재&nbsp;로그인된&nbsp;닉네임을&nbsp;포함해서&nbsp;NCMB&nbsp;Database에&nbsp;정보&nbsp;보냄.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(여기서&nbsp;정보는&nbsp;UserManageMent와&nbsp;상관없이&nbsp;DataStore로&nbsp;보내짐)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;즉&nbsp;로그인&nbsp;정보는&nbsp;UserManageMent에&nbsp;저장되지만&nbsp;랭킹시스템에&nbsp;출력되는&nbsp;모든&nbsp;정보들은&nbsp;DataStore에&nbsp;따로&nbsp;관리.<br />&nbsp;&nbsp;&nbsp;&nbsp;5.&nbsp;BestScore는&nbsp;ManagerParent.cs에서&nbsp;관리.&nbsp;각&nbsp;GameManager들은&nbsp;ManagerParent를&nbsp;상속받음&nbsp;<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;--------&nbsp;NCMB&nbsp;Database&nbsp;관련<br />&nbsp;&nbsp;&nbsp;&nbsp;각각의&nbsp;게임들에는&nbsp;개별적으로&nbsp;**_ManagerGame.cs,&nbsp;**_Result.cs&nbsp;가&nbsp;있음.&nbsp;(Angry_ManagerGame,&nbsp;Angry_Result&nbsp;등...)<br />&nbsp;&nbsp;&nbsp;&nbsp;이번에&nbsp;실행된&nbsp;게임의&nbsp;점수는&nbsp;ManagerGame.cs의&nbsp;Score에&nbsp;저장됨.<br />&nbsp;&nbsp;&nbsp;&nbsp;게임이&nbsp;종료되면&nbsp;Result.cs가&nbsp;Start되고&nbsp;SendPlayerDataNCMB()&nbsp;함수에&nbsp;의해&nbsp;NCBM&nbsp;데이타베이스로&nbsp;현재&nbsp;종료된&nbsp;게임의&nbsp;이름과&nbsp;점수가&nbsp;보내짐.<br />&nbsp;&nbsp;&nbsp;&nbsp;바로&nbsp;직후&nbsp;InitNCMBBoard()&nbsp;함수에&nbsp;의해&nbsp;데이터베이스에&nbsp;저장된&nbsp;모든&nbsp;데이터들을&nbsp;"Score"로&nbsp;정렬해&nbsp;가져와서&nbsp;보드에&nbsp;출력함.</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #Unity #ncmb 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
