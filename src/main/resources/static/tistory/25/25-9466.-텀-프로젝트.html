
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>9466. 텀 프로젝트</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">9466. 텀 프로젝트</h2>
                                <div class="box-info">
                                    <p class="category">PS</p>
                                    <p class="date">2020-08-18 17:57:52</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><a href="https://www.acmicpc.net/problem/9466">https://www.acmicpc.net/problem/9466</a></p>
<figure id="og_1597650016627" contenteditable="false" data-ke-type="opengraph" data-og-type="website" data-og-title="9466번: 텀 프로젝트" data-og-description="문제 이번 가을학기에 '문제 해결' 강의를 신청한 학생들은&nbsp;텀 프로젝트를 수행해야 한다. 프로젝트 팀원 수에는 제한이 없다. 심지어 모든 학생들이 동일한 팀의 팀원인 경우와&nbsp;같이&nbsp;한 팀만 " data-og-host="www.acmicpc.net" data-og-source-url="https://www.acmicpc.net/problem/9466" data-og-url="https://www.acmicpc.net/problem/9466" data-og-image="https://scrap.kakaocdn.net/dn/bF0n8E/hyHa7a4XpH/akepzY4J6KMHCuJZQKTVHk/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630"><a href="https://www.acmicpc.net/problem/9466" target="_blank" rel="noopener" data-source-url="https://www.acmicpc.net/problem/9466">
<div class="og-image" style="background-image: url('https://scrap.kakaocdn.net/dn/bF0n8E/hyHa7a4XpH/akepzY4J6KMHCuJZQKTVHk/img.png?width=1200&amp;height=630&amp;face=0_0_1200_630');">&nbsp;</div>
<div class="og-text">
<p class="og-title">9466번: 텀 프로젝트</p>
<p class="og-desc">문제 이번 가을학기에 '문제 해결' 강의를 신청한 학생들은&nbsp;텀 프로젝트를 수행해야 한다. 프로젝트 팀원 수에는 제한이 없다. 심지어 모든 학생들이 동일한 팀의 팀원인 경우와&nbsp;같이&nbsp;한 팀만</p>
<p class="og-host">www.acmicpc.net</p>
</div>
</a></figure>
<p>&nbsp;</p>
<p>일단 처음 봤을 때 한 방향 간선 그래프인것도 그렇고, 사이클을 찾아야 되는 것도 그렇고</p>
<p>10451. 순열 사이클과 비슷해 보였다.</p>
<p>풀다보니 다른점은 순열사이클 문제는 말그대로 사이클의 갯수를 구하는 것이고,</p>
<p>이 문제는 그 사이클안의 원소가 몇개인지 구하는 것이다.</p>
<p>처음엔 이전에 푼것을 이용해 금방 풀수 있을 것 같았는데 의외로 사이클안의 원소의 수를 구하기가 어려웠다..</p>
<p>&nbsp;</p>
<p>...</p>
<p>계속 붙잡고 고민해봤는데 생각보다 어려웠다..</p>
<p>이전에 푼 문제랑 비슷하면서도 다르다.</p>
<p>햇갈렸던 것이 자기자신을 선택한 학생이 있을 때 였다.</p>
<p>얘 때문에 팀을 이룬 총 학생수를 구하기가 어려웠다.</p>
<p>&nbsp;</p>
<p>결국 솔루션에서 원리만 보고 다시 풀었다.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>방법은 이렇다.</p>
<p>dfs를 돌면서 다음 정점(학생)으로 가면서 cnt의 수를 1씩 늘리며 정점마다 저장한다.</p>
<p>그리고 dfs 한번에 갈수있는(간선이 이어져있는) 정점들은 동일한 step으로 저장한다.</p>
<p>그러니까 cnt배열, step배열을 선언해서 각각의 idx를 학생번호로 생각해 cnt랑 step을 저장하는 것.</p>
<p>&nbsp;</p>
<p>그렇게 dfs를 돌다가 만약 cnt가 0보다 큰 정점을 만나면 이미 방문한 정점인 것이다.</p>
<p>그런데 이때 이 정점의 step이 지금 싸이클의 step과 같으면 같은 step의 그룹이니까&nbsp;</p>
<p>현재 cnt값에서 이 정점의 cnt값을 빼면 이 step 그룹에 인원수가 나온다.</p>
<p><figure class="imageblock alignLeft" data-filename="20200826200046.png" data-origin-width="891" data-origin-height="521" width="674" data-ke-mobilestyle="widthContent">
    <span data-lightbox="lightbox">
        <img src="./img/img.png" data-filename="20200826200046.png" data-origin-width="891" data-origin-height="521" width="674" data-ke-mobilestyle="widthContent" />
    </span>
    <figcaption></figcaption>
</figure></p>
<p>&nbsp;</p>
<p>나는 이 step이라는 배열을 만들 생각을 못했다.&nbsp;</p>
<p>&nbsp;</p>
<p><u>코드</u></p>
<div data-ke-type="moreLess" data-text-more="더보기" data-text-less="닫기">
<div class="moreless-content-ignore">
<pre id="code_1598439810499" class="java" data-ke-language="java" data-ke-type="codeblock"><code>import java.util.*;

public class Main {
    static int[] a;
    static int[] c;
    static int[] s;

    static int cnt, step, teamn;

    public static void main(String args[]) {
        Scanner sc = new Scanner(System.in);
        int t = sc.nextInt();

        while(t-- != 0) {
            int n = sc.nextInt();

            cnt = 0; step = 0; teamn = 0; // reset
            a = new int[100001];
            c = new int[100001];
            s = new int[100001];

            for (int i = 1; i &lt;= n; i++) {
                a[i] = sc.nextInt();
            }


            for (int i = 1; i &lt;= n; i++) {
                if (c[i] == 0) {
                    cnt = 0;
                    step++;
                    dfs(i);

                }
            }
            System.out.println(n - teamn);
        }
    }

    static boolean dfs(int x) {
        cnt++;
        if(c[x] &gt; 0) {
            if(s[x] == step) teamn += cnt - c[x];
            return false;
        }

        c[x] = cnt;
        s[x] = step;

        int y = a[x];
        dfs(y);

        return true;
    }
}</code></pre>
</div>
</div>
                        </div>
                        <br/>
                        <div class="tags">
                            #graph 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
